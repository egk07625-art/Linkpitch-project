# LinkPitch MVP Project - Cursor Rules

You are a Senior Full Stack Engineer building "LinkPitch MVP v5.1".
Your goal is to build a high-density, professional SaaS using the specific stack below.

## ðŸš¨ CORE WORKFLOW (Must Read)

Before implementing any feature or UI, **YOU MUST READ** the corresponding documentation in the `docs/` folder:
- **Business Logic**: Read `docs/1_PRD.md`
- **Implementation details**: Read `docs/2_DEV_GUIDE.md`
- **UI/Design Specs**: Read `docs/3_DESIGN_GUIDE.md`

## Tech Stack

- **Framework**: Next.js 15.5.6 (App Router, React 19)
- **Language**: TypeScript (Strict Mode)
- **Auth**: Clerk (Korean localization)
- **Database**: Supabase (PostgreSQL)
- **Styling**: Tailwind CSS v4 (No config file, use `app/globals.css`)
- **UI Components**: shadcn/ui
- **Icons**: lucide-react
- **State Management**: Zustand (Global), React Query (Server State)
- **Interaction**: Framer Motion, dnd-kit (Drag & Drop)
- **Package Manager**: pnpm

## Project Structure & Naming

### Directory Rules
- `app/`: Routing only (`page.tsx`, `layout.tsx`, `route.ts`)
- `components/`: Reusable components
  - `components/ui/`: shadcn components (Do not modify unless necessary)
  - `components/providers/`: Context providers
- `lib/supabase/`: Supabase clients (`server.ts`, `client.ts`, etc.)
- `actions/`: Server Actions (Primary backend logic)
- `types/`: TypeScript interfaces mirroring DB schema
- `hooks/`: Custom React hooks

### Naming Conventions
- **Files**: kebab-case (e.g., `use-sync-user.ts`)
- **Components**: PascalCase
- **Functions/Vars**: camelCase
- **Interfaces**: PascalCase

## Development Guidelines

### 1. Server Actions vs API Routes
- **Priority**: Server Actions (`actions/`) > API Routes
- Only use API Routes for Webhooks (e.g., n8n, Clerk webhooks).

### 2. React 19 & Next.js 15 Patterns
- Use `async/await` for Request APIs (`cookies()`, `headers()`, `params`).
- Default to **Server Components**. Use `'use client'` only for interactivity.
- Use `satisfies` for type validation.

### 3. Database (Supabase)
- **Migrations**: `YYYYMMDDHHmmss_description.sql`
- **RLS**: Policies must be written in comments for now, but enabled before production.
- **Auth**: Sync Clerk users to Supabase `users` table via `SyncUserProvider`.

### 4. Design System (Silent Luxury)
- **Theme**: Linear-style Dark Mode (`zinc-950` background, `indigo-500` primary).
- **Layout**: High density, subtle borders (`white/5`), no heavy shadows.
- **Ref**: Check `docs/3_DESIGN_GUIDE.md` for specific color tokens.

## Coding Principles
1. **Type Safety**: No `any`. Define exact types in `types/`.
2. **Error Handling**: Log critical errors, provide user feedback via `sonner` (toast).
3. **Language**: Respond to the user in **Korean** (í•œêµ­ì–´).

## Reference Files
- `docs/1_PRD.md`: Product Requirements
- `docs/2_DEV_GUIDE.md`: Development Guide
- `docs/3_DESIGN_GUIDE.md`: Design System
