                           +----------------------+
                           |   퍼포먼스 마케터    |
                           |  (Browser / Client)  |
                           +----------+-----------+
                                      |
                                      | 0) 로그인/회원가입
                                      v
                           +----------+-----------+
                           |        Clerk         |
                           |  - Auth / Session    |
                           +----------+-----------+
                                      |
                                      | JWT (userId 포함)
                                      v
                    +-----------------+-----------------+
                    |     Next.js App (Linkpitch)      |
                    |  - /app, /app/sequences, /sent   |
                    |  - /api/generate-step            |
                    +-----------+----------------------+
                                |
                                | 1) /api/generate-step
                                v
                      +---------+----------+
                      |      n8n (Docker) |
                      |  - Webhook Node   |
                      |  - Function Node  |
                      |  - OpenAI Node    |
                      +----+--------------+
                           |
                           | 2) OpenAI 요청/응답
                           v
                    +------+----------------+
                    |   OpenAI (LLM API)   |
                    +----------------------+

                           (LLM 응답 JSON)
                           ^
                           |
                    +------+----------------+
                    |      n8n (정리 후)   |
                    +------+----------------+
                           |
                           | 3) 결과 JSON 반환
                           v
 +-------------------------+--------------------------+
 |           Next.js App (API → Page)                |
 |  - 결과 화면 표시                                  |
 |  - Supabase에 로그/Prospect/Sequence/Step 저장     |
 +-------------------------+--------------------------+
                           |
                           | 4) Supabase 요청 (JWT 전달)
                           v
                  +--------+---------+
                  |     Supabase     |
                  |  - RLS 활성화     |
                  |  - user_id = JWT |
                  |    기반 필터링   |
                  +------------------+
